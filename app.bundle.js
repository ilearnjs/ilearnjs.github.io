webpackJsonp([0],{334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(338);var r=n(340),i=n(341),o=n(337),a=n(335),u=n(342),c=n(344),s=n(346),l=n(347),f=n(348),p=new r.Store(i.pageReducer);new o.StoreSingleton(p);var d=function(){var e=p.getState();e.page===a.SOURCES&&(c.RenderingService.clearContent(),u.DataService.getSources().then(function(e){return e.sources.map(function(e){return new s.Source(e)})}).then(function(e){return c.RenderingService.renderContent(e,"sources")}).catch(function(e){return alert("Something went wrong")})),e.page===a.HEADLINES&&(c.RenderingService.clearContent(),u.DataService.getHeadlines({sources:e.source}).then(function(e){return e.articles.map(function(e){return new l.Headline(e)})}).then(function(e){return c.RenderingService.renderContent(e,"headlines")}).catch(function(e){return alert("Something went wrong")}))};p.subscribe(d),t.default=function(){d();var e=new f.Footer;document.body.appendChild(e.getElement())}},335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SOURCES="sources",t.SOURCES_URL="https://newsapi.org/v2/sources",t.HEADLINES="top-headlines",t.HEADLINES_URL="https://newsapi.org/v2/top-headlines",t.APIKEY="89b192969337425eb66621910ff1f9e8"},336:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Template=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(337),t.Template=function(){function e(){r(this,e)}return i(e,[{key:"getElement",value:function(){var e=document.createElement("div");e.innerHTML=this.getHtml();var t=e.firstElementChild;return this.addListeners(t),t}},{key:"$if",value:function(e,t){return e?t:""}},{key:"getHtml",value:function(){throw new Error("The method must be overriden")}},{key:"addListeners",value:function(e){}}]),e}()},337:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=null;t.StoreSingleton=function(){function e(t){return r(this,e),o||(o=t),o}return i(e,null,[{key:"storeInstance",get:function(){return o}}]),e}()},338:function(e,t,n){var r=n(339);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0};i.transform=void 0;n(125)(r,i);r.locals&&(e.exports=r.locals)},339:function(e,t,n){t=e.exports=n(124)(void 0),t.push([e.i,"body {\n  animation: 3s ease 0s normal forwards 1 fadein;\n  -webkit-animation: 3s ease 0s normal forwards 1 fadein;\n  opacity: 1; }\n\n@keyframes fadein {\n  0% {\n    opacity: 0; }\n  30% {\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n\n@-webkit-keyframes fadein {\n  0% {\n    opacity: 0; }\n  30% {\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n\n#sources {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  margin-bottom: 1.2rem; }\n  @media (min-width: 480px) and (max-width: 768px) {\n    #sources {\n      grid-template-columns: repeat(6, 1fr); } }\n  @media (min-width: 769px) {\n    #sources {\n      grid-template-columns: repeat(8, 1fr); } }\n  #sources .source {\n    position: relative;\n    width: 100%;\n    padding-top: 100%; }\n    #sources .source a.link {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      background-repeat: no-repeat;\n      background-size: contain;\n      margin: 5%;\n      border-radius: 25%;\n      border: 1px solid #e4e4e4; }\n      @media (min-width: 769px) {\n        #sources .source a.link {\n          opacity: 0.7; } }\n      #sources .source a.link:hover {\n        opacity: 1; }\n\n#headlines .headline {\n  display: grid;\n  grid-template-rows: repeat(4, auto);\n  margin-bottom: 1.2rem; }\n\n#headlines .title {\n  display: block;\n  font-size: 1.5rem;\n  margin-bottom: 0.5rem; }\n\n#headlines .publishedAt {\n  display: block;\n  font-size: 0.9rem;\n  margin-bottom: 0.5rem; }\n\n#headlines .image img {\n  display: block;\n  max-width: 100%;\n  margin-bottom: 0.5rem; }\n\n#headlines .article .description, #headlines .article .link {\n  display: block; }\n\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  body {\n    opacity: 1; }\n    body #content {\n      display: inline-block; }\n    body #sources {\n      height: 100px;\n      margin: 5px; }\n      body #sources .source {\n        position: relative;\n        height: 100px;\n        width: 100px;\n        float: left;\n        margin: 10px;\n        padding-top: 0; }\n        body #sources .source a.link {\n          height: 100px;\n          width: 100px;\n          float: left; } }\n",""])},340:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Store=function(){function e(t){r(this,e),this.reducer=t,this.subscribtions=[],this.subscribeToHistoryEvents(),this.init()}return i(e,[{key:"getState",value:function(){return this.state}},{key:"init",value:function(){var e=location.hash.slice(1);e?this.state=JSON.parse(e):this.dispatch({})}},{key:"dispatch",value:function(e){this.state=this.reducer(this.state,e);var t=!0,n=!1,r=void 0;try{for(var i,o=this.subscribtions[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){(0,i.value)()}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}var a="#"+JSON.stringify(this.state);e.pushHistory?history.pushState(this.state,"",a):history.replaceState(this.state,"",a)}},{key:"dispatchAndPushHistory",value:function(e){e.pushHistory=!0,this.dispatch(e)}},{key:"subscribe",value:function(e){this.subscribtions.push(e)}},{key:"subscribeToHistoryEvents",value:function(){var e=this;window.addEventListener("popstate",function(t){t.preventDefault(),e.state=t.state||void 0,e.dispatch({})})}}]),e}()},341:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:i.SOURCES},t=arguments[1];switch(t.type){case"GOTO_SOURCES":e=Object.assign({},e,{page:i.SOURCES,sources:null});case"GOTO_HEADLINES":e=Object.assign({},e,{page:i.HEADLINES,source:t.source})}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.pageReducer=void 0;var i=n(335);t.pageReducer=r},342:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.DataService=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(335),a=n(343),u=new a.CacheService;t.DataService=function(){function e(){r(this,e)}return i(e,null,[{key:"getSources",value:function(){var e=o.SOURCES_URL;return this.request(e)}},{key:"getHeadlines",value:function(e){var t=o.HEADLINES_URL;return this.request(t,e,300)}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object.assign(t,{APIKEY:o.APIKEY});var r=Object.keys(t).map(function(e){return e+"="+t[e]}).join("&");e+="?"+r;var i=u.getFromCahce(e,n);return i?Promise.resolve(i):fetch(e).then(function(t){return t.json().then(function(t){return u.setToCache(e,t),t})})}}]),e}()},343:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.CacheService=function(){function e(){r(this,e),this.cahce={}}return i(e,[{key:"setToCache",value:function(e,t){this.cahce[e]={data:t,timestamp:this.getTicks()}}},{key:"getFromCahce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.cahce[e];return n?this.isExpired(n.timestamp,t)?null:n.data:null}},{key:"clearCache",value:function(e){this.cahce={}}},{key:"getTicks",value:function(){return(new Date).getTime()}},{key:"isExpired",value:function(e,t){return null!==t&&(this.getTicks()-e)/1e3>=t}}]),e}()},344:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.RenderingService=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(345);t.RenderingService=function(){function e(){r(this,e)}return i(e,null,[{key:"renderContent",value:function(e,t){for(var n=new o.Container(t).getElement(),r=0;r<e.length;r++){var i=e[r],a=i.getElement();n.appendChild(a)}this.addContent(n)}},{key:"addContent",value:function(e){this.contentElement.appendChild(e)}},{key:"clearContent",value:function(){this.contentElement.innerHTML=""}},{key:"contentElement",get:function(){return document.getElementById("content")}}]),e}()},345:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(336);t.Container=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.id=e,n}return o(t,e),a(t,[{key:"getHtml",value:function(){return'\n        <div id="'+this.id+'">\n        </div>\n        '}}]),t}(u.Template)},346:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Source=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(336),c=(n(335),n(337));t.Source=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.assign(n,e),n}return o(t,e),a(t,[{key:"getHtml",value:function(){return'\n        <div class="source">\n\t\t\t<a\n\t\t\t\tdata-source="'+this.id+'"\n                style="background-image:url('+this.getSourceIconLink()+')" \n\t\t\t\ttitle="'+this.name+'"\n\t\t\t\tclass="link">\n            </a>\n        </div>\n        '}},{key:"addListeners",value:function(e){var t=this;e.onclick=function(e){e.preventDefault(),c.StoreSingleton.storeInstance.dispatchAndPushHistory({type:"GOTO_HEADLINES",source:t.id})}}},{key:"getSourceIconLink",value:function(){return"https://icons.better-idea.org/icon?url="+this.url+"&size=50..120..200"}}]),t}(u.Template)},347:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Headline=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(336);t.Headline=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.assign(n,e),n}return o(t,e),a(t,[{key:"getHtml",value:function(){return'\n        <div class="headline">\n            <span class="title">\n                '+this.title+'\n            </span>\n            <span class="publishedAt">\n                Published at '+this.getDateString(this.publishedAt)+"\n            </span>\n            "+this.$if(this.urlToImage,'\n                <div class="image">\n                    <img src="'+this.urlToImage+'">\n                </div>\n            ')+' \n            <div class="article">\n                <span class="description">\n                    '+this.description+'\n                </span>\n                <span class="link">\n                    <a href="'+this.url+'" target="_blank">\n                        Go to article\n                    </a>\n                </span>\n            </div>\n        </div>\n        '}},{key:"getDateString",value:function(e){return new Date(e).toLocaleString()}}]),t}(u.Template)},348:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(336);t.Footer=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"getHtml",value:function(){return'\n\t\t\t<div id="footer">\n\t\t\t\tNews from\n\t\t\t\t<a href="https://newsapi.org/">NewsApi.org</a>\n\t\t\t</div>\n        '}}]),t}(u.Template)}});